# ðŸŽ¨ Esquemas Visuales - HowToPiano

## Arquitectura del Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SISTEMA HOWTOPIANO                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Pendrive   â”‚â”€â”€â”€â”€â”€â”€â”‚ Raspberry   â”‚â”€â”€â”€â”€â”€â”€â”‚  Tira LED   â”‚ â”‚
â”‚  â”‚    USB     â”‚ USB  â”‚   Pi Zero   â”‚ GPIO â”‚  WS2812B    â”‚ â”‚
â”‚  â”‚            â”‚      â”‚             â”‚  18  â”‚             â”‚ â”‚
â”‚  â”‚ *.mid      â”‚      â”‚  Python 3   â”‚      â”‚  88 LEDs    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                             â”‚                              â”‚
â”‚                             â”‚                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚            MÃ³dulos Python                            â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  MidiReader  â”‚  NoteMapper  â”‚  LEDController        â”‚ â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚
â”‚  â”‚  â€¢ Lee .mid  â”‚  â€¢ Notaâ†’LED  â”‚  â€¢ Control WS2812B    â”‚ â”‚
â”‚  â”‚  â€¢ Timing    â”‚  â€¢ ValidaciÃ³nâ”‚  â€¢ Efectos visuales   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Flujo de Datos

```
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Archivo MIDIâ”‚ test.mid
 â”‚   (USB)     â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  MidiReader      â”‚ 
 â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  Lee y parsea archivo
 â”‚  â€¢ parse()       â”‚
 â”‚  â€¢ play()        â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼  Note On/Off + nÃºmero de nota MIDI
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  NoteMapper      â”‚
 â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  Convierte nota MIDI â†’ Ã­ndice LED
 â”‚  â€¢ note_to_led() â”‚  Ej: Nota 60 (C4) â†’ LED 39
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼  Ãndice de LED + color
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  LEDController   â”‚
 â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚  Enciende/apaga LED fÃ­sico
 â”‚  â€¢ set_led_on()  â”‚
 â”‚  â€¢ set_led_off() â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚   GPIO 18        â”‚  SeÃ±al PWM â†’ WS2812B
 â”‚   (Hardware)     â”‚
 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Tira LED        â”‚  ðŸ’¡ðŸ’¡ðŸ’¡ Teclas iluminadas
 â”‚  WS2812B         â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Estructura del Proyecto

```
HowToPiano/
â”‚
â”œâ”€â”€ ðŸ“„ main.py                    â† Programa principal
â”œâ”€â”€ ðŸ“„ requirements.txt           â† Dependencias Python
â”œâ”€â”€ ðŸ“„ README.md                  â† DocumentaciÃ³n completa
â”œâ”€â”€ ðŸ“„ QUICKSTART.md              â† GuÃ­a rÃ¡pida
â”œâ”€â”€ ðŸ“„ LICENSE                    â† Licencia MIT
â”œâ”€â”€ ðŸ“„ .gitignore                 â† Archivos ignorados por git
â”œâ”€â”€ ðŸ“„ install.sh                 â† Script instalaciÃ³n automÃ¡tica
â”‚
â”œâ”€â”€ ðŸ“ src/                       â† CÃ³digo fuente
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ midi_reader.py            â† Lee archivos MIDI
â”‚   â”œâ”€â”€ led_controller.py         â† Control de LEDs
â”‚   â””â”€â”€ note_mapper.py            â† Mapeo notaâ†”LED
â”‚
â”œâ”€â”€ ðŸ“ config/                    â† ConfiguraciÃ³n
â”‚   â””â”€â”€ config.json               â† ParÃ¡metros del sistema
â”‚
â”œâ”€â”€ ðŸ“ docs/                      â† DocumentaciÃ³n tÃ©cnica
â”‚   â”œâ”€â”€ hardware_setup.md         â† GuÃ­a de conexiones
â”‚   â”œâ”€â”€ led_alignment.md          â† AlineaciÃ³n fÃ­sica
â”‚   â””â”€â”€ troubleshooting.md        â† SoluciÃ³n de problemas
â”‚
â””â”€â”€ ðŸ“ utils/                     â† Utilidades
    â”œâ”€â”€ test_install.py           â† Verifica instalaciÃ³n
    â”œâ”€â”€ create_test_midi.py       â† Genera MIDI de prueba
    â””â”€â”€ demo_effects.py           â† DemostraciÃ³n de efectos
```

---

## Diagrama de Conexiones FÃ­sicas

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Raspberry Pi Zero W    â”‚
                    â”‚                         â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  Pin 1  (3.3V)          â”‚
     â”‚              â”‚  Pin 6  (GND)  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”
     â”‚              â”‚  Pin 12 (GPIO 18) â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â” â”‚
     â”‚              â”‚                         â”‚    â”‚ â”‚
     â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ â”‚
     â”‚                                             â”‚ â”‚
     â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚ â”‚
     â”‚              â”‚  Convertidor de Nivel   â”‚    â”‚ â”‚
     â”‚              â”‚  3.3V â†’ 5V              â”‚    â”‚ â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  VCC_LV (3.3V)          â”‚    â”‚ â”‚
                    â”‚  LV1 â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”˜ â”‚
                    â”‚  GND â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
                    â”‚  VCC_HV (5V) â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”  â”‚
                    â”‚  HV1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â” â”‚  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚  â”‚
                                                â”‚ â”‚  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”¼â”€â”€â”¼â”€â”€â”€â”
                    â”‚  Tira LED WS2812B         â”‚ â”‚  â”‚   â”‚
                    â”‚  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”Œâ”€â”€â”  â”‚ â”‚  â”‚   â”‚
                    â”‚  â”‚ðŸ”´â”‚  â”‚ðŸŸ¢â”‚  â”‚ðŸ”µâ”‚  â”‚ðŸŸ¡â”‚  â”‚ â”‚  â”‚   â”‚
                    â”‚  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â””â”€â”€â”˜  â”‚ â”‚  â”‚   â”‚
                    â”‚  DIN â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚   â”‚
                    â”‚  +5V â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”˜   â”‚
                    â”‚  GND â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚ +5V, GND
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Fuente 5V 5-10A   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Mapeo Nota MIDI â†’ LED

### Piano de 88 teclas

```
MIDI     Nota         LED      PosiciÃ³n
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
21       A0           0        â—„â”€â”€ Inicio
22       A#0          1        
23       B0           2        
24       C1           3        
...      ...          ...      
60       C4 (Middle)  39       â—„â”€â”€ Do central
...      ...          ...      
108      C8           87       â—„â”€â”€ Fin

FÃ³rmula:  LED = MIDI_Note - 21
```

### Teclado de 61 teclas

```
MIDI     Nota         LED      PosiciÃ³n
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
36       C2           0        â—„â”€â”€ Inicio
37       C#2          1        
38       D2           2        
...      ...          ...      
60       C4           24       â—„â”€â”€ Do central
...      ...          ...      
96       C7           60       â—„â”€â”€ Fin

FÃ³rmula:  LED = MIDI_Note - 36
```

---

## Timeline de ReproducciÃ³n MIDI

```
Tiempo (segundos)
0.0      0.5      1.0      1.5      2.0      2.5      3.0
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚
â”œâ”€ Note On  (C4) â”€â”€â–º LED 39 ON ðŸŸ¢
â”‚                    â”‚
â”‚                    â”œâ”€ Note Off (C4) â”€â”€â–º LED 39 OFF âš«
â”‚                    â”‚
â”œâ”€ Note On  (E4) â”€â”€â–º â”‚ LED 43 ON ðŸŸ¢
â”‚                    â”‚ â”‚
â”‚   Note On  (G4) â”€â”€â”¼â”€â”¼â”€â–º LED 46 ON ðŸŸ¢
â”‚                    â”‚ â”‚  â”‚
â”‚                    â”‚ â”œâ”€ Note Off (E4) â”€â”€â–º LED 43 OFF âš«
â”‚                    â”‚ â”‚
â”‚                    â”‚ â””â”€ Note Off (G4) â”€â”€â–º LED 46 OFF âš«
â”‚
â”‚                    MIDI Timing automÃ¡tico con mido.play()
```

---

## Estados del Sistema

```
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚   INICIO    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Inicializar â”‚
                  â”‚ Componentes â”‚
                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚    MenÃº Interactivo      â”‚
          â”‚                          â”‚
          â”‚  1. Listar archivos      â”‚
          â”‚  2. Cargar/Reproducir    â”‚
          â”‚  3. Test LEDs            â”‚
          â”‚  4. Ajustar brillo       â”‚
          â”‚  0. Salir                â”‚
          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Buscar  â”‚  â”‚Cargar  â”‚  â”‚ Test   â”‚
â”‚USB     â”‚  â”‚MIDI    â”‚  â”‚ LEDs   â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
    â”‚           â”‚           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  REPRODUCCIÃ“N  â”‚
        â”‚                â”‚
        â”‚  MIDI â†’ LEDs   â”‚
        â”‚  Sincronizado  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   FINALIZAR    â”‚
        â”‚  Apagar LEDs   â”‚
        â”‚  Limpiar GPIO  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## DistribuciÃ³n de LEDs en el Teclado

```
Piano de 88 teclas - Vista superior

LED:     0   1   2   3   4   5   6   7   8   9  10  11  12 ...
         â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚
Tira: â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€â—‰â”€â”€â”€ ...
         â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚   â”‚
Teclas:  A  A#  B   C  C#  D  D#  E   F  F#  G  G#  A ...
        â•”â•â•¤â•â•¤â•â•¦â•â•¦â•â•¤â•â•¤â•â•¤â•â•¦â•â•¦â•â•¤â•â•¤â•â•¤â•â•¦â•â•—
        â•‘ â”‚â–“â”‚ â•‘ â•‘â–“â”‚ â”‚ â”‚â–“â”‚ â•‘ â•‘â–“â”‚ â”‚ â”‚â–“â”‚ â•‘
        â•‘ â”‚â–“â”‚ â•‘ â•‘â–“â”‚ â”‚ â”‚â–“â”‚ â•‘ â•‘â–“â”‚ â”‚ â”‚â–“â”‚ â•‘
        â•‘ â””â”€â”˜ â•‘ â•‘â””â”€â”˜ â”‚ â””â”€â”˜ â•‘ â•‘â””â”€â”˜ â”‚ â””â”€â”˜ â•‘
        â•‘  A  â•‘ â•‘  C  â”‚  D  â•‘ â•‘  F â”‚  G  â•‘
        â•šâ•â•â•â•â•â•©â•â•©â•â•â•â•â•â•§â•â•â•â•â•â•©â•â•©â•â•â•â•â•§â•â•â•â•â•â•

â–“ = Teclas negras
â• = Teclas blancas
â—‰ = LED WS2812B
```

---

## Diagrama ElÃ©ctrico Simplificado

```
        +5V â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                 â”‚
                  [Cap]             â”Œâ”€â”€â”´â”€â”€â”
                  1000ÂµF            â”‚ VCC â”‚
                     â”‚              â”‚     â”‚
        GND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”‚ GND â”‚
                     â”‚          â”‚   â”‚     â”‚
                     â”‚          â”‚   â”‚ DIN â”‚â—„â”€â”€â”€ GPIO 18 (via convertidor)
                     â”‚          â”‚   â””â”€â”€â”€â”€â”€â”˜
        Raspberry â”€â”€â”€â”˜          â””â”€â”€â”€ Tira LED WS2812B
        Pi GND                       (88 LEDs)

Capacitor: Estabiliza voltaje, reduce glitches
Convertidor: 3.3V â†’ 5V para seÃ±al DIN
GND comÃºn: CRÃTICO para funcionamiento correcto
```

---

## ComparaciÃ³n de Configuraciones

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ConfiguraciÃ³nâ”‚ Teclas â”‚ Rango MIDIâ”‚ LEDs    â”‚ Largo    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ piano_88     â”‚   88   â”‚  21-108   â”‚   88    â”‚ ~202 cm  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ keyboard_61  â”‚   61   â”‚  36-96    â”‚   61    â”‚ ~140 cm  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ keyboard_49  â”‚   49   â”‚  36-84    â”‚   49    â”‚ ~113 cm  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ keyboard_25  â”‚   25   â”‚  48-72    â”‚   25    â”‚  ~58 cm  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Largo aproximado asumiendo 23 mm por tecla
```

---

## SeÃ±al WS2812B (Protocolo)

```
Formato de cada LED: 24 bits (GRB)

    8 bits     8 bits     8 bits
    Green      Red        Blue
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚G7...G0 â”‚R7...R0 â”‚B7...B0 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bit "0":  â”     â”Œâ”€â”€â”€â”€â”€â”€â”€  (350ns high, 800ns low)
          â””â”€â”€â”€â”€â”€â”˜

Bit "1":  â”â”€â”€â”€â”€â”€â”€â”        (700ns high, 600ns low)
          â””â”€â”€â”€â”€â”€â”€â”˜â”€â”€â”€â”€

Reset:    â”                 (>50Âµs low)
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Cadena de LEDs:
  LED1   LED2   LED3  ...  LED88
  [24b]â†’ [24b]â†’ [24b]â†’ ... [24b]
```

---

Â¡Estos diagramas te ayudarÃ¡n a entender todo el sistema! ðŸŽ¹âœ¨
